https://zhuanlan.zhihu.com/p/43282197

1. dns 解析，（网址-ip 地址） dns 缓存，首先查看访问的浏览器之前是否返回过这个地址，直接返回 ip ,
   操作系统， 分级查询(本地的 dns 服务器，根域名服务器，com 顶级域名服务器，google.com 域名服务器)

   得到 ip 地址

2.tcp 连接 （三次握手 ）--为什么两次不可以

3.发送 http 请求

4.服务端处理请求，返回 http 报文

5.浏览器解析和渲染页面

6.连接结束 四次挥手

> 三次握手

```sequence
客户端 -->> 服务端  SYN=1,seq(序列号=n)

服务端——>客户端    SYN=1, 同意建立连接 ack=n+1 (确认收到了信息)  seq=x服务端序列里号

客户端 ——>服务端  SYN=0 开始发送信息  ack=x+1(确定收到信息) seq=n+1
```

> 四次挥手
> 发完了，知道发完了，收完了，知道收完了

> 浏览器渲染
> 自上而下加载和渲染

css 并行
图片异步请求
js 挂起

css 会阻塞 js 执行 dom 渲染
但 css 不会阻塞 dom 解析

> html --dom 树
> css->cssom 树
> 合并后形成 render 渲染树(有些东西不渲染，head,display:none )

4.在浏览器中布局 5.绘制

https://zhuanlan.zhihu.com/p/43282197

https 和 http 的区别(http2 )

response 响应阶段， http 状态码 304 缓存 http 报文

重绘（layout），回流（重排,）
回流必将引起重绘，而重绘不一定引起回流

性能优化：
减少 http 的请求次数和大小
资源合并压缩
图片懒加载
音视频走流文件

减少操作 dom

分离读写操作，（样式和 js 挨着写）渲染等待机制

样式集中改变 批量处理
缓存布局信息

元素批量修改
文档碎片
模板字符串
