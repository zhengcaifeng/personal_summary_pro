Promise
抽象表达：
promise 是 js 中进行异步编程的新的解决方案
具体表达：
从语法上来说,Promise 是一个构造函数
从功能上来说，Promise 对象用来封装一个异步操作并获取其结果

Promise 的状态 三种状态
pending -- fulfilled（已成功） 、resolved
pending --rejected
说明：一个 Promise 只能改变一个，
无论变成成功还是失败，都会有一个结果数据
成功的结果数据一般称为 value,失败的结果数据一般称为 reason

`Promise`流程图

为什么要用 promise 1.指定回调函数的方式更加灵活
必须在启动异步任务前指定
promise 启动异步任务=》返回 promise 对象
=》给 promise 对象绑定回调函数(甚至可以在异步任务结束后指定)

2.支持链式调用，可以解决回调地狱问题

回调函数嵌套调用，外部回调函数异步执行的结果是嵌套的回调函数执行的条件

异步任务 a 的结果，是异步任务 b 结果的条件或需要的数据，在不用 Promise 的情况下就会出现多层嵌套，
异常错误也很难排查到，而且不便阅读

而 promise 的链式调用就可以解决

而 promise 也不是异步处理的最好的方法，现在可以用 async await
promise 不优的结果：还有回调函数

如何改变 promise 的状态
调用 resolve() pending-resolved
调用 reject() pending-resolved
抛出异常 reason 的值

状态
存储数据
回调函数

状态改成 resolve,
保存 valve,
如果

Promise.all([p1,p2]) 所有的异步有结果了，才执行 then 后面的
都成功的话，返回的是一个结果数组，二失败的时候则返回最先被 reject 失败状态的值
race 谁跑的快就返回谁

async 和普通函数执行一样 ，返回的是就一个 promise 对象
return Promise.resolve('abc')
