<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <p id="p">0</p>
    <script>
      function foo() {
        var obj = {}
        // var a = 1
        var a = 1
        Object.defineProperties(obj, {
          a: {
            // value: 1,
            // writable: true,  不能同时存在
            // enumerable: true,
            get() {
              return a
            },
            set(newVal) {
              a = newVal
              // document.getElementById('p').innerHTML = newVal
              document.getElementsByTagName('p')[0].innerHTML = newVal
            },
          },
        })
        return obj
      }

      let c = foo()
      console.log(c.a)
      c.a = 5
      console.log(c.a)

      /*
      writeable:
   
      
      configurable:false,//是否可以被配置
      enumerable:true, //是否可以被枚举
      存储描述：
      set:方法：当我们修改属性的时候，会执行这个方法，新属性的值作为参数传递进来，默认值undefined
      get 当我们访问这个属性的时候，会执行这个方法，默认值为undefined

      对象定义属性 来实现响应式

      Object.defineProperty()不具备监听数组的能力,
      不能检测到数组长度的变化，准确的说

      不具备监听数组的能力，需要重新去定义数组的原型来达到响应式
      无法检测到对象属性的添加和删除
      所有的属性必须在data对象上存在才能让vue将它转换成响应式，进行遍历
      深度监听，递归，递归对性能是有一定影响的



    




      */
    </script>
  </body>
</html>
